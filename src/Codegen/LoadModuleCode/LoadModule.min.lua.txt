do local a,b='${Version}',Flags or{}local c,d,e=(b.ContextualExecution==nil and true)or b.ContextualExecution do if c then local f=game:GetService'RunService'd=f:IsServer()e=f:IsClient()end end local f,g,h,i,j,k={},{},{},{},{},{}local function l(m)local n,o=pcall(Instance.new,m.ClassName)if not n then return end f[m.Reference]=o if m.Closure then h[o]=m.Closure if o:IsA'BaseScript'then table.insert(j,o)end end if m.Properties then for p,q in next,m.Properties do pcall(function()o[p]=q end)end end if m.RefProperties then for p,q in next,m.RefProperties do table.insert(g,{InstanceObject=o,Property=p,ReferenceId=q})end end if m.Attributes then for p,q in next,m.Attributes do pcall(o.SetAttribute,o,p,q)end end if m.Children then for p,q in next,m.Children do local r=l(q)if r then r.Parent=o end end end return o end local m={}do for n,o in next,ModuleRoot do table.insert(m,l(o))end end local n,o,p,q,r,s,t,u,v,w,x,y,z=getfenv(0),script,unpack,table,require,type,pcall,getfenv,setfenv,setmetatable,rawget,coroutine,task local function A(B)local C=i[B]if B.ClassName=='ModuleScript'and C then return p(C)end local D=h[B]if not D then return end do local E local F={['maui']=q.freeze{Version=a,GetScript=function()return o end,GetShared=function()return k end},['script']=B,['require']=function(F,...)if F and F.ClassName=='ModuleScript'and h[F]then return A(F)end return r(F,...)end,['getfenv']=function(F,...)if s(F)=='number'and F>=0 then if F==0 then return E else F=F+1 local G,H=t(u,F)if G and H==n then return E end end end return u(F,...)end,['setfenv']=function(F,G,...)if s(F)=='number'and F>=0 then if F==0 then return v(E,G)else F=F+1 local H,I=t(u,F)if H and I==n then return v(E,G)end end end return v(F,G,...)end}E=w({},{__index=function(G,H)local I=x(E,H)if I~=nil then return I end local J=F[H]if J~=nil then return J end return n[H]end})v(D,E)end local E=y.wrap(D)if B:IsA'BaseScript'then local F=(not c or not B.Disabled)and z.defer(E)if c then local G G=B:GetPropertyChangedSignal'Disabled':Connect(function(H)G:Disconnect()if H==false then A(B)else t(z.cancel,F)end end)end return else local F={E()}i[B]=F return p(F)end end for B,C in next,g do t(function()C.InstanceObject[C.Property]=f[C.ReferenceId]end)end for D,E in next,j do if not c or((d and E.ClassName=='Script')or(e and E.ClassName=='LocalScript'))then A(E)end end if b.ReturnMainModule==nil or b.ReturnMainModule then local F do for G,H in next,m do if H.ClassName=='ModuleScript'and H.Name=='MainModule'then F=H break end end end if F then return A(F)end end end